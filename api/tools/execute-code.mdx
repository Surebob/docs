---
title: execute_code
description: MCP tool for TypeScript/Python/Shell execution in Linux containers
---

## Overview

Execute TypeScript, Python, or Shell in full Linux container with **real filesystem** and **full language support**.

<Info>
**Performance**: ~200ms startup, ~300-2000ms total

**Best for**: TypeScript with types, Python data analysis, file operations
</Info>

## Tool Definition

```json
{
  "name": "execute_code",
  "description": "Execute TypeScript/Python/Shell in Linux container (~200ms startup, ~300ms total). REAL filesystem, full language support. Use when you need TypeScript with types, Python libraries, shell commands, or file operations.",
  "inputSchema": {
    "type": "object",
    "properties": {
      "language": {
        "type": "string",
        "enum": ["typescript", "python", "shell"],
        "description": "Language: typescript (bun with full TS support), python (Python 3), or shell (bash)"
      },
      "code": {
        "type": "string",
        "description": "Code to execute. TypeScript can use interfaces/types. Python can use standard library. Shell can use Linux commands."
      }
    },
    "required": ["language", "code"]
  }
}
```

## Parameters

<ParamField path="language" type="string" required>
  Programming language
  
  **Options:**
  - `typescript` - Bun with full TypeScript support
  - `python` - Python 3 with standard library
  - `shell` - Bash shell
</ParamField>

<ParamField path="code" type="string" required>
  Code to execute
  
  **TypeScript**: Can use interfaces, types, type annotations
  
  **Python**: Can use standard library, file I/O
  
  **Shell**: Can use bash commands, pipes, etc.
</ParamField>

## Response

Same format as `/api/execute` endpoint.

## Examples

### TypeScript with Types

```typescript
import fs from 'fs';
import { searchEmails } from '/mnt/servers/cosmo-tools/searchEmails';

interface Email {
  subject: string;
  from: string;
}

const results = await searchEmails({ query: 'is:unread', maxResults: 5 });
console.log('Found emails');
```

### TypeScript with File Operations

```typescript
import fs from 'fs';

// Discover tools
const tools = fs.readdirSync('/mnt/servers/cosmo-tools');
console.log('Available tools:', tools.length);

// Read tool code
const code = fs.readFileSync('/mnt/servers/cosmo-tools/searchEmails.ts', 'utf-8');

// Check for TypeScript syntax
const hasInterface = code.includes('export interface');
console.log('Has TypeScript interfaces:', hasInterface);
```

### Python Data Analysis

```python
import os
import pandas as pd

# Discover tools
tools = os.listdir('/mnt/servers/cosmo-tools')
ts_files = [f for f in tools if f.endswith('.ts')]

print(f'Found {len(ts_files)} TypeScript files')

# Data analysis
data = {'a': [1, 2, 3], 'b': [4, 5, 6]}
df = pd.DataFrame(data)
print(df.describe())
```

### Python File Reading

```python
import os
import re

# Read a TypeScript tool file
with open('/mnt/servers/cosmo-tools/searchEmails.ts', 'r') as f:
    code = f.read()

# Parse TypeScript interface
interface_match = re.search(r'export interface (\w+)', code)
if interface_match:
    print(f'Interface: {interface_match.group(1)}')
```

### Shell Commands

```bash
# List all tools
ls -la /mnt/servers/cosmo-tools

# Count TypeScript files
ls /mnt/servers/cosmo-tools/*.ts | wc -l

# Search in files
grep -r "searchEmails" /mnt/servers/cosmo-tools
```

## Capabilities by Language

### TypeScript
<Check>
- Full TypeScript syntax (interfaces, types, enums)
- Real filesystem (fs, path modules)
- Bun runtime (fast TypeScript execution)
- Can discover tools from `.ts` files
</Check>

### Python
<Check>
- Python 3.11
- Standard library
- File I/O with `os` module
- Can parse TypeScript files with regex
</Check>

### Shell
<Check>
- Bash shell
- Linux commands (ls, grep, cat, etc.)
- Pipes and redirects
- File system operations
</Check>

## Performance

**Measured Results:**
- TypeScript: ~2000ms average (includes container startup)
- Python: ~2000ms average
- Shell: ~300ms average (simpler operations)

**10/10 TypeScript tests pass** ✅  
**10/10 Python tests pass** ✅

## When to Use

**Choose `execute_code` when:**
- Need TypeScript with types/interfaces
- Need to save skills or files
- Need Python for data analysis
- Need shell commands
- **Default choice** for most tasks

**Choose `execute_javascript` when:**
- Speed is critical (~10ms vs ~200ms)
- Pure JavaScript is enough
- Don't need TypeScript types

## Limitations

<Warning>
**MCP calls not yet implemented in containers.**

For MCP tool orchestration, use `execute_javascript` (isolates).

Containers are best for:
- File operations
- TypeScript type checking
- Python data analysis
- Shell scripting
</Warning>

## Related

<Card title="execute_javascript" href="/api/tools/execute-javascript">
  Fast JavaScript execution in isolates
</Card>

